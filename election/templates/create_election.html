{% extends 'layoutss/base.html' %}
{% load crispy_forms_tags %}
{% block title %}
Election
{% endblock title %}

{% block content %}

<div class="row pt-5">
    <div class="col-md-6 offset-md-3 pt-5">
        <div class="card card-plain">
            <div class="card-header">Election Form</div>
            <div class="card-body">
                
                <form method="post">
                    {% csrf_token %}
                   {{form|crispy}}
                   <button type="submit">submit</button>
                </form>
                
            </div>
        </div>
    </div>
</div>
<script>
    let currentStage = {{ current_stage }};

    function showStage(stage) {
        document.querySelectorAll('.card').forEach((card, index) => {
            if (index + 1 === stage) {
                card.style.display = 'block';
            } else {
                card.style.display = 'none';
            }
        });
        currentStage = stage;
    }

    function nextStage() {
        if (currentStage < 5) {
            showStage(currentStage + 1);
        }
    }

    function prevStage() {
        if (currentStage > 1) {
            showStage(currentStage - 1);
        }
    }

    // Initialize by showing the current stage
    showStage(currentStage);
</script>

{% endblock content %}